import{u as M,i as N,f as F,j as A,r as K,k as E,o as p,c,w as l,a as t,b as u,t as i,l as e,n as T,d as r,m as f,q as _,s as G,v as H}from"./index-CZ-jeGgE.js";import{u as J}from"./tenant-D6wipkT8.js";import{d as w,V as O,b as k,e as h,f as q,g as j}from"./VGrid-CH5CbTjN.js";import{V as U}from"./VChip-g2OJaZBF.js";import{V as Q,a as W,b as L}from"./VDataTableServer-DJDxiQR8.js";import{V as C,a as P,b as X}from"./VTooltip-w28TotOc.js";import{V as m}from"./forwardRefs-DpN468t2.js";import{V as Y}from"./VRow-DoNlnVNA.js";import{V}from"./VTextField-DVzsUNSV.js";import{V as x}from"./VCol-CjVdm_MB.js";import{V as Z}from"./VForm-BoKOpqf4.js";import{V as b,a as ee,b as v}from"./VList-Ek6lQ_m-.js";import{V as z}from"./VDivider-CQdL7re9.js";import{V as te}from"./VContainer-CikPPT_X.js";import"./VOverlay-BVQB-fyf.js";import"./scopeId-BoLFKdBO.js";const ae={class:"d-flex flex-row justify-center align-center ga-2 my-2"},le={class:"font-weight-regular"},se={class:"font-weight-regular"},oe={class:"font-weight-regular"},ne={class:"font-weight-regular"},ie={class:"font-weight-regular"},de={class:"text-primary"},re={class:"text-primary"},Ue={__name:"index",setup(ue){const y=M(),R=N(),a=J(),{t:n}=F(),I=A(),D=K([]);E(async()=>{const{data_status:g}=await y.fnGetMeta();D.push(...g.map(s=>({id:s,name:n(`data_status.${s}`)})))});const B=(g="")=>`${g.substring(0,6)}......${g.substring(g.length-6)}`,$=g=>{switch(g){case"enable":return"text-green";case"disable":return"text-red"}};return(g,s)=>(p(),c(te,null,{default:l(()=>[t(U,{color:"primary",variant:"flat",class:"mb-4 px-5"},{default:l(()=>[t(w,{icon:"mdi-hoop-house",size:"20",start:"",class:"mb-1"}),u("h3",null,i(e(n)("sidebar.tenant")),1)]),_:1}),t(k,{class:"elevation-3 px-4"},{default:l(()=>[t(Q,{"must-sort":"","items-per-page":e(a).limit,"onUpdate:itemsPerPage":s[22]||(s[22]=o=>e(a).limit=o),"items-per-page-options":e(a).pages,headers:e(a).headers(),items:e(a).items,"items-length":e(a).total,loading:e(a).loading,"show-current-page":"",search:e(a).search,"item-value":"tenant_id",density:"compact",class:"text-no-wrap","fixed-header":"","onUpdate:options":e(a).fnList},{"item.data_status":l(({item:o})=>[t(U,{class:T($(o.data_status)),label:"",density:"compact"},{default:l(()=>[r(i(e(n)(`data_status.${o.data_status}`)),1)]),_:2},1032,["class"])]),"item.updated_at":l(({item:o})=>[r(i(e(I).format(o.updated_at,"fullDate")),1)]),"item.actions":l(({item:o})=>[u("div",ae,[t(C,{text:e(n)("action.detail")},{activator:l(({props:d})=>[e(y).hasPermissions(["tenant_view"])?(p(),c(m,f({key:0},d,{color:"teal",icon:"mdi-eye",size:"x-small",rounded:"0",onClick:S=>e(a).fnDetailItem(o)}),null,16,["onClick"])):_("",!0)]),_:2},1032,["text"]),t(C,{text:e(n)("action.edit")},{activator:l(({props:d})=>[e(y).hasPermissions(["tenant_update"])?(p(),c(m,f({key:0},d,{color:"warning",icon:"mdi-square-edit-outline",size:"x-small",rounded:"0",onClick:S=>e(a).fnEditItem(o)}),null,16,["onClick"])):_("",!0)]),_:2},1032,["text"]),t(C,{text:e(n)("action.delete")},{activator:l(({props:d})=>[e(y).hasPermissions(["tenant_delete"])?(p(),c(m,f({key:0},d,{color:"red",icon:"mdi-trash-can-outline",size:"x-small",rounded:"0",onClick:S=>e(a).fnDelItem(o)}),null,16,["onClick"])):_("",!0)]),_:2},1032,["text"]),t(C,{text:e(n)("action.reset")+" "+e(n)("text.password")},{activator:l(({props:d})=>[e(y).hasPermissions(["tenant_update"])?(p(),c(m,f({key:0},d,{color:"red",icon:"mdi-lock-reset",size:"x-small",rounded:"0",onClick:S=>e(a).fnResetItem(o)}),null,16,["onClick"])):_("",!0)]),_:2},1032,["text"])])]),top:l(()=>[t(P,{modelValue:e(a).dialog,"onUpdate:modelValue":s[15]||(s[15]=o=>e(a).dialog=o),"max-width":"500",transition:"false",persistent:"",scrollable:"","no-click-animation":""},{activator:l(({props:o})=>[t(Y,{class:"justify-space-between ga-2 my-4 mx-0"},{default:l(()=>[t(O,{"max-width":"350"},{default:l(()=>[t(V,{modelValue:e(a).filter.search,"onUpdate:modelValue":s[0]||(s[0]=d=>e(a).filter.search=d),density:"compact",variant:"outlined",color:"primary",placeholder:e(n)("text.search_name"),"append-inner-icon":"mdi-magnify",clearable:"","hide-details":"",onKeyup:s[1]||(s[1]=G(d=>e(a).fnSearch(),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),e(R).mobile.value?_("",!0):(p(),c(X,{key:0})),t(W,{"close-on-content-click":!1},{activator:l(({props:d})=>[t(m,f({color:"brown-lighten-2",height:"38"},d),{default:l(()=>[t(w,{start:""},{default:l(()=>[r("mdi-tune")]),_:1}),r(" "+i(e(n)("text.filter")),1)]),_:2},1040)]),default:l(()=>[t(k,{"min-width":"350"},{default:l(()=>[t(h,{class:"pb-0"},{default:l(()=>[t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(L,{modelValue:e(a).filter.data_status,"onUpdate:modelValue":[s[2]||(s[2]=d=>e(a).filter.data_status=d),s[3]||(s[3]=d=>e(a).fnSearch())],density:"compact",variant:"outlined",color:"primary",prefix:e(n)("text.status")+":","item-title":"name","item-value":"id",items:[{id:null,name:e(n)("text.all")},...e(D)],"hide-selected":""},null,8,["modelValue","prefix","items"])]),_:1})]),_:1})]),_:1})]),_:2},1024),t(m,{color:"success",height:"38",onClick:s[4]||(s[4]=d=>e(a).fnList())},{default:l(()=>[t(w,{start:""},{default:l(()=>[r("mdi-refresh")]),_:1}),r(" "+i(e(n)("action.refresh")),1)]),_:1}),t(m,f({color:"primary",height:"38"},o),{default:l(()=>[t(w,{start:""},{default:l(()=>[r("mdi-plus-thick")]),_:1}),r(" "+i(e(n)("action.create")),1)]),_:2},1040)]),_:2},1024)]),default:l(()=>[t(Z,{modelValue:e(a).valid,"onUpdate:modelValue":s[13]||(s[13]=o=>e(a).valid=o),onSubmit:s[14]||(s[14]=H(o=>e(a).fnSave(),["prevent","stop"]))},{default:l(()=>[t(k,null,{default:l(()=>[t(q,{class:"d-flex justify-space-between align-center font-weight-bold bg-primary pl-7"},{default:l(()=>[u("span",null,i(e(a).index==-1?e(n)("action.create"):e(n)("action.update"))+" "+i(e(n)("sidebar.tenant")),1),t(m,{icon:"mdi-close",variant:"text",loading:e(a).loading,onClick:s[5]||(s[5]=o=>e(a).fnCancel())},null,8,["loading"])]),_:1}),t(h,{class:"pb-0"},{default:l(()=>[t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(V,{modelValue:e(a).model.name,"onUpdate:modelValue":s[6]||(s[6]=o=>e(a).model.name=o),density:"compact",variant:"outlined",color:"primary",label:e(n)("text.name"),rules:[e(a).rules().required]},null,8,["modelValue","label","rules"])]),_:1}),t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(V,{modelValue:e(a).model.username,"onUpdate:modelValue":s[7]||(s[7]=o=>e(a).model.username=o),density:"compact",variant:"outlined",color:"primary",label:e(n)("text.username"),rules:[e(a).rules().required]},null,8,["modelValue","label","rules"])]),_:1}),t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(V,{modelValue:e(a).model.phone,"onUpdate:modelValue":s[8]||(s[8]=o=>e(a).model.phone=o),density:"compact",variant:"outlined",color:"primary",label:e(n)("text.phone"),rules:[e(a).rules().required]},null,8,["modelValue","label","rules"])]),_:1}),t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(V,{modelValue:e(a).model.email,"onUpdate:modelValue":s[9]||(s[9]=o=>e(a).model.email=o),density:"compact",variant:"outlined",color:"primary",label:e(n)("text.email"),rules:[e(a).rules().email]},null,8,["modelValue","label","rules"])]),_:1}),t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(V,{modelValue:e(a).model.keycode,"onUpdate:modelValue":s[10]||(s[10]=o=>e(a).model.keycode=o),density:"compact",variant:"outlined",color:"primary",label:e(n)("text.keycode"),rules:[e(a).rules().required]},null,8,["modelValue","label","rules"])]),_:1}),t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(V,{modelValue:e(a).model.address,"onUpdate:modelValue":s[11]||(s[11]=o=>e(a).model.address=o),density:"compact",variant:"outlined",color:"primary",label:e(n)("text.address"),rules:[e(a).rules().required]},null,8,["modelValue","label","rules"])]),_:1}),t(x,{cols:"12",class:"pa-1"},{default:l(()=>[t(L,{modelValue:e(a).model.data_status,"onUpdate:modelValue":s[12]||(s[12]=o=>e(a).model.data_status=o),density:"compact",variant:"outlined",color:"primary",label:e(n)("text.status"),rules:[e(a).rules().required],items:e(D),chips:"","item-title":"name","item-value":"id","hide-selected":""},{chip:l(({props:o,item:d})=>[t(U,f(o,{class:$(d.value),text:d.title}),null,16,["class","text"])]),item:l(({props:o,item:d})=>[t(b,f(o,{class:$(d.value),title:d.title}),null,16,["class","title"])]),_:1},8,["modelValue","label","rules","items"])]),_:1})]),_:1}),t(z),t(j,{class:"mx-5"},{default:l(()=>[t(m,{color:"primary",variant:"flat",type:"submit",loading:e(a).loading},{default:l(()=>[r(i(e(a).index==-1?e(n)("action.create"):e(n)("action.update")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),t(P,{modelValue:e(a).dialogDetail,"onUpdate:modelValue":s[17]||(s[17]=o=>e(a).dialogDetail=o),"max-width":"500",transition:"false",persistent:"",scrollable:"","no-click-animation":""},{default:l(()=>[t(k,null,{default:l(()=>[t(q,{class:"d-flex justify-space-between align-center font-weight-bold bg-primary pl-7"},{default:l(()=>[u("span",null,i(e(n)("action.detail"))+" "+i(e(n)("sidebar.tenant")),1),t(m,{icon:"mdi-close",variant:"text",loading:e(a).loading,onClick:s[16]||(s[16]=o=>e(a).fnCancel())},null,8,["loading"])]),_:1}),t(h,{class:"font-weight-bold py-2"},{default:l(()=>[t(ee,{density:"compact"},{default:l(()=>[t(b,{class:"px-1 my-2 bg-background"},{default:l(()=>[t(v,{class:"font-weight-bold"},{default:l(()=>[r(i(e(n)("text.name")),1)]),_:1}),u("span",le,i(e(a).model.name),1)]),_:1}),t(b,{class:"px-1 my-2 bg-background"},{default:l(()=>[t(v,{class:"font-weight-bold"},{default:l(()=>[r(i(e(n)("text.username")),1)]),_:1}),u("span",se,i(e(a).model.username),1)]),_:1}),t(b,{class:"px-1 my-2 bg-background"},{default:l(()=>[t(v,{class:"font-weight-bold"},{default:l(()=>[r(i(e(n)("text.keycode")),1)]),_:1}),u("span",oe,i(e(a).model.keycode),1)]),_:1}),t(b,{class:"px-1 my-2 bg-background"},{default:l(()=>[t(v,{class:"font-weight-bold"},{default:l(()=>[r(i(e(n)("text.status")),1)]),_:1}),t(U,{class:T($(e(a).model.data_status)),label:"",density:"compact"},{default:l(()=>[r(i(e(n)(`data_status.${e(a).model.data_status}`)),1)]),_:1},8,["class"])]),_:1}),t(b,{class:"px-1 my-2 bg-background"},{default:l(()=>[t(v,{class:"font-weight-bold"},{default:l(()=>[r(i(e(n)("text.updated_by")),1)]),_:1}),u("span",ne,i(e(a).model.updated_by),1)]),_:1}),t(b,{class:"px-1 my-2 bg-background"},{default:l(()=>[t(v,{class:"font-weight-bold"},{default:l(()=>[r(i(e(n)("text.updated_at")),1)]),_:1}),u("span",ie,i(e(I).format(e(a).model.updated_at,"fullDate")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(P,{modelValue:e(a).dialogReset,"onUpdate:modelValue":s[21]||(s[21]=o=>e(a).dialogReset=o),"max-width":"500",transition:"false",persistent:"",scrollable:"","no-click-animation":""},{default:l(()=>[t(k,null,{default:l(()=>[t(q,{class:"d-flex justify-space-between align-center font-weight-bold bg-primary pl-7"},{default:l(()=>[u("span",null,i(e(n)("action.reset"))+" "+i(e(n)("text.password")),1),t(m,{icon:"mdi-close",variant:"text",loading:e(a).loading,onClick:s[18]||(s[18]=o=>e(a).fnCancel())},null,8,["loading"])]),_:1}),e(a).model.password?(p(),c(h,{key:0,class:"font-weight-bold px-7 pb-5"},{default:l(()=>[r(i(e(n)("text.copy_password"))+" ",1),u("span",de,i(B(e(a).model.password)),1),t(C,{text:e(n)("action.copy")},{activator:l(({props:o})=>[t(w,f(o,{size:"18",class:"ml-1",onClick:s[19]||(s[19]=d=>e(y).fnCopy(e(a).model.password))}),{default:l(()=>[r("mdi-content-copy")]),_:2},1040)]),_:1},8,["text"])]),_:1})):(p(),c(h,{key:1,class:"font-weight-bold px-7 pb-5"},{default:l(()=>[r(i(e(n)("text.reset"))+" ",1),u("span",re,i(e(a).model.name),1)]),_:1})),t(z),t(j,{class:"mx-5"},{default:l(()=>[e(a).model.password?_("",!0):(p(),c(m,{key:0,color:"red",variant:"flat",loading:e(a).loading,onClick:s[20]||(s[20]=o=>e(a).fnReset())},{default:l(()=>[r(i(e(n)("action.reset")),1)]),_:1},8,["loading"]))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(z)]),_:2},1032,["items-per-page","items-per-page-options","headers","items","items-length","loading","search","onUpdate:options"])]),_:1})]),_:1}))}};export{Ue as default};
