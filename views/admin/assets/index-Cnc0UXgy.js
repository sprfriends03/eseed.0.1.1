import{u as b,f as w,B as p,r as V,o as g,c as _,w as o,a as e,v as k,l as i,d as C,t as q}from"./index-CZ-jeGgE.js";import{_ as B}from"./logo-C7qfJXTj.js";import{a as S,b as U,e as T,g as A}from"./VGrid-CH5CbTjN.js";import{V as F}from"./VForm-BoKOpqf4.js";import{V as d}from"./VCol-CjVdm_MB.js";import{V as c}from"./VTextField-DVzsUNSV.js";import{V as I}from"./forwardRefs-DpN468t2.js";import{V as L}from"./VContainer-CikPPT_X.js";const J={__name:"index",setup(N){const y=b(),{t:r}=w(),u=p(!1),m=p(!1),s=p(!1),f=V({required:n=>!!n||r("rule.required")}),t=V({username:"",password:"",keycode:""});async function v(){if(u.value){m.value=!0;const{username:n,password:a,keycode:l}=t,{success:x}=await y.fnLogin({username:n,password:a,keycode:l});if(x)return window.location="/admin";m.value=!1}}return(n,a)=>(g(),_(L,{class:"align-center justify-center fill-height"},{default:o(()=>[e(d,{cols:"",sm:4},{default:o(()=>[e(S,{class:"mx-auto my-6","max-width":"250",src:B}),e(F,{modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=l=>u.value=l),onSubmit:k(v,["prevent","stop"])},{default:o(()=>[e(U,{class:"elevation-5 pa-4"},{default:o(()=>[e(T,null,{default:o(()=>[e(d,{cols:"12",class:"pa-1"},{default:o(()=>[e(c,{modelValue:t.username,"onUpdate:modelValue":a[0]||(a[0]=l=>t.username=l),density:"comfortable",variant:"outlined",color:"primary",label:i(r)("text.username"),rules:[f.required],type:"text","prepend-inner-icon":"mdi-account"},null,8,["modelValue","label","rules"])]),_:1}),e(d,{cols:"12",class:"pa-1"},{default:o(()=>[e(c,{modelValue:t.password,"onUpdate:modelValue":a[1]||(a[1]=l=>t.password=l),density:"comfortable",variant:"outlined",color:"primary",label:i(r)("text.password"),rules:[f.required],type:s.value?"text":"password","prepend-inner-icon":"mdi-lock","append-inner-icon":s.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":a[2]||(a[2]=l=>s.value=!s.value)},null,8,["modelValue","label","rules","type","append-inner-icon"])]),_:1}),e(d,{cols:"12",class:"pa-1"},{default:o(()=>[e(c,{modelValue:t.keycode,"onUpdate:modelValue":a[3]||(a[3]=l=>t.keycode=l),density:"comfortable",variant:"outlined",color:"primary",label:i(r)("text.keycode"),type:"text","prepend-inner-icon":"mdi-hoop-house"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(A,null,{default:o(()=>[e(I,{loading:m.value,type:"submit",color:"primary",block:"",variant:"flat",size:"x-large"},{default:o(()=>[C(q(i(r)("action.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};export{J as default};
